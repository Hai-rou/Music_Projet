<div class="player-container">
    <section class="player-head">
        <h2>Lecteur Musical</h2>
        <p>Profitez de votre musique pr√©f√©r√©e avec notre lecteur int√©gr√©.</p>
    </section>

    <section class="player-current" *ngIf="currentTrack">
        <div class="track-info">
            <div class="track-icon" *ngIf="!trackPicture">üéµ</div>
            <img *ngIf="trackPicture" [src]="trackPicture" alt="Pochette" class="track-cover">
            <div class="track-detail">
                <h3>{{ trackTitle || currentTrack.name }}</h3>
                <p class="track-artist">{{ trackArtist }}</p>
                <p class="track-album" *ngIf="trackAlbum">{{ trackAlbum }}</p>
            </div>
        </div>
    </section>

    <!-- Message si aucune musique s√©lectionn√©e -->
    <section class="player-empty" *ngIf="!currentTrack">
        <p>Aucune musique s√©lectionn√©e.</p>
        <p class="hint">Aller dans la biblioth√®que pour ajouter des morceaux et cliquez sur play</p>
    </section>

    <!-- Contr√¥les -->
     <section class="player-controls">
        <div class="controls">
            <button class="control-btn" (click)="previous()" [disabled]="!currentTrack">‚èÆÔ∏è</button>
            <button class="control-btn play-btn" (click)="togglePlayPause()" [disabled]="!currentTrack">
                {{ isPlaying ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è' }}
            </button>
            <button class="control-btn" (click)="next()" [disabled]="!currentTrack">‚è≠Ô∏è</button>
        </div>
     </section>

    <!-- Barre de progression -->
     <section class="player-progress" *ngIf="currentTrack">
        <!-- DEBUG : Affichage des valeurs -->
        <div style="background: rgba(255,255,255,0.9); padding: 10px; margin-bottom: 10px; border-radius: 8px; font-size: 12px; color: #333;">
            <strong>üîç DEBUG:</strong><br>
            currentTime: {{ currentTime.toFixed(2) }}s<br>
            duration: {{ duration.toFixed(2) }}s<br>
            progress: {{ getProgress().toFixed(1) }}%
        </div>
        
        <div class="time-display">
            <span>{{ formatTime(currentTime) }}</span>
            <span>{{ formatTime(duration) }}</span>
        </div>
        <div class="progress-bar" (click)="onProgressClick($event)">
            <div class="progress-fill" [style.width.%]="getProgress()"></div>
        </div>
     </section>
</div>